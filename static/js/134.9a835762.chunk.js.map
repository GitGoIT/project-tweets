{"version":3,"file":"static/js/134.9a835762.chunk.js","mappings":"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","sources":["webpack://project-tweets/./src/pages/TweetsPage/TweetsPage.module.css?4f0b","webpack://project-tweets/./src/components/Tweets/Tweets.module.css?20f9","services/service-func.js","components/Tweets/Tweets.jsx","pages/TweetsPage/TweetsPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"section\":\"TweetsPage_section__gsZBp\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Tweets_container__r3oMi\",\"list\":\"Tweets_list__gF+vJ\",\"item\":\"Tweets_item__WMA6g\",\"imageBlock\":\"Tweets_imageBlock__DtIdf\",\"logo\":\"Tweets_logo__Rsytf\",\"picture\":\"Tweets_picture__YzTZl\",\"avatarBlock\":\"Tweets_avatarBlock__HX23E\",\"avatar\":\"Tweets_avatar__ob1EE\",\"line\":\"Tweets_line__BmP41\",\"textBlock\":\"Tweets_textBlock__ozbLD\",\"tweets\":\"Tweets_tweets__8xppN\",\"followers\":\"Tweets_followers__qO5DH\",\"followersCount\":\"Tweets_followersCount__SnpFL\",\"btn\":\"Tweets_btn__pyaOM\",\"btnActive\":\"Tweets_btnActive__6pocc\",\"btnLoadMore\":\"Tweets_btnLoadMore__Vy30b\",\"navBtn\":\"Tweets_navBtn__uRwAi\",\"navIcon\":\"Tweets_navIcon__aXx0h\",\"navTitle\":\"Tweets_navTitle__ZJ79Q\"};","export function updateValueByKey(array, key, value, newValue) {\r\n  for (var i = 0; i < array.length; i++) {\r\n    if (array[i][key] === value) {\r\n      array[i].isFollow = newValue;}\r\n  }\r\n  const found = array.find((e) => e[key] === value);\r\n  if (!found) {\r\n    const newObj = { id: value, isFollow: false };\r\n      array.push(newObj);\r\n    }\r\n  }","import css from \"./Tweets.module.css\";\r\nimport axios from \"axios\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { updateValueByKey } from \"../../services/service-func\";\r\nimport picture from \"../../images/bg/card-bg.png\";\r\nimport logo from \"../../images/logo/logo.png\";\r\nimport defaultAvatar from \"../../images/avatar/avatar-default.png\";\r\nimport { FiChevronsLeft } from \"react-icons/fi\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Tweets = () => {\r\n  const [isFollowing, setIsFollowing] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [limit] = useState(3);\r\n  const [hasMore, setHasMore] = useState(true);\r\n\r\n  if (!localStorage.getItem(\"myTweets\")) {\r\n    localStorage.setItem(\"myTweets\", JSON.stringify([]));\r\n  }\r\n\r\n  const instance = axios.create({\r\n    baseURL: process.env.REACT_APP_API_URL,\r\n  });\r\n\r\n  const fetchGetAllUsers = async () => {\r\n    const { data } = await instance.get(`/users?page=${page}&limit=${limit}`);\r\n    setUsers([...users, ...data]);\r\n    setPage((prevPage) => prevPage + 1);\r\n    if (data.length < limit) {\r\n      setHasMore(false);\r\n    }\r\n    return data;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const storageState = JSON.parse(localStorage.getItem(\"myTweets\"));\r\n    setIsFollowing(storageState);\r\n    fetchGetAllUsers();\r\n  }, []);\r\n\r\n  const handleSubmit = (props) => {\r\n    const userId = props.target.id;\r\n    const storedTweets = JSON.parse(localStorage.getItem(\"myTweets\"));\r\n    const followState = storedTweets.find(\r\n      (e) => e.id === userId && e.isFollow === true\r\n    );\r\n\r\n    if (!storedTweets.find((e) => e.id === userId)) {\r\n      updateValueByKey(storedTweets, \"id\", userId, true);\r\n    }\r\n    if (followState) {\r\n      updateValueByKey(storedTweets, \"id\", userId, false);\r\n    }\r\n    if (!followState) {\r\n      updateValueByKey(storedTweets, \"id\", userId, true);\r\n    }\r\n\r\n    const obj = storedTweets;\r\n    setIsFollowing(obj);\r\n    localStorage.setItem(\"myTweets\", JSON.stringify(obj));\r\n  };\r\n\r\n  const handleLoadMore = () => {\r\n    fetchGetAllUsers();\r\n  };\r\n\r\n  const elements = users.map((item) => (\r\n    <li key={item.id} className={css.item}>\r\n      <div className={css.imageBlock}>\r\n        <img className={css.logo} src={logo} alt=\"logo\" />\r\n        <img className={css.picture} src={picture} alt=\"card-background\" />\r\n        <div className={css.avatarBlock}>\r\n          <img\r\n            className={css.avatar}\r\n            src={item.avatar ? item.avatar : defaultAvatar}\r\n            alt=\"avatar\"\r\n          />\r\n        </div>\r\n        <div className={css.line}></div>\r\n      </div>\r\n      <div className={css.textBlock}>\r\n        <p className={css.tweets}>\r\n          {item.tweets.toLocaleString(\"en-US\")} TWEETS\r\n        </p>\r\n        <p className={css.followers}>\r\n          <span className={css.followersCount}>\r\n            {isFollowing.find((e) => e.id === item.id && e.isFollow === true)\r\n              ? (item.followers + 1).toLocaleString(\"en-US\")\r\n              : item.followers.toLocaleString(\"en-US\")}\r\n          </span>\r\n          FOLLOWERS\r\n        </p>\r\n        <button\r\n          type=\"submit\"\r\n          onClick={handleSubmit}\r\n          id={item.id}\r\n          className={\r\n            isFollowing.find((e) => e.id === item.id && e.isFollow === true)\r\n              ? `${css.btn} ${css.btnActive}`\r\n              : css.btn\r\n          }\r\n        >\r\n          {isFollowing.find((e) => e.id === item.id && e.isFollow === true)\r\n            ? \"FOLLOWING\"\r\n            : \"FOLLOW\"}\r\n        </button>\r\n      </div>\r\n    </li>\r\n  ));\r\n\r\n  return (\r\n    <div className={css.container}>\r\n      <NavLink className={css.navBtn} to=\"/\">\r\n        <FiChevronsLeft className={css.navIcon} />\r\n        <p className={css.navTitle}>Go back</p>\r\n      </NavLink>\r\n      <ul className={css.list}>{elements}</ul>\r\n      {hasMore && (\r\n        <button\r\n          onClick={handleLoadMore}\r\n          className={`${css.btn} ${css.btnLoadMore}`}\r\n        >\r\n          Load More\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tweets;\r\n","import css from \"./TweetsPage.module.css\";\r\nimport Tweets from \"../../components/Tweets/Tweets\"\r\n\r\nconst TweetsPage = () => {\r\n  return (\r\n    <section className={css.section}>\r\n      <Tweets />\r\n    </section>\r\n  );\r\n};\r\nexport default TweetsPage;\r\n\r\n"],"names":["updateValueByKey","array","key","value","newValue","i","length","isFollow","find","e","newObj","id","push","_useState","useState","_useState2","_slicedToArray","isFollowing","setIsFollowing","_useState3","_useState4","users","setUsers","_useState5","_useState6","page","setPage","_useState7","limit","_useState9","_useState10","hasMore","setHasMore","localStorage","getItem","setItem","JSON","stringify","instance","axios","create","baseURL","process","fetchGetAllUsers","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$instance$get","data","wrap","_context","prev","next","get","concat","sent","_toConsumableArray","prevPage","abrupt","stop","apply","arguments","useEffect","storageState","parse","handleSubmit","props","userId","target","storedTweets","followState","obj","elements","map","item","_jsxs","className","css","children","_jsx","src","alt","picture","avatar","tweets","toLocaleString","followers","type","onClick","NavLink","to","FiChevronsLeft","Tweets"],"sourceRoot":""}